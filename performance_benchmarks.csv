Metric,Current Value,Target Value,Corrective Action,Effort (hours),Impact (%),Priority
Build succeeds,No (domain violations),Yes,Move ResolveEpisodeSourcesUseCase to data + fix imports,4,Blocker,P0
Home load time (ms),~2500,<1000,Cache-first in HubsRepositoryImpl + parallel server fetch,8,-60%,P1
Image cache RAM (MB),200 fixed,100-400 adaptive,Dynamic cache based on Runtime.maxMemory() (10-15%),3,Stability +50%,P1
Repositories Offline First (%),47,100,Implement cache-first pattern in SearchRepo + MediaDetailRepo,16,+53%,P1
Cache hit rate (%),~35,70+,Cache-first + TTL + WorkManager periodic sync,12,+35%,P1
Time to first content (ms),~1200,<300,Emit Room cache immediately before network fetch,8,-75%,P1
ANR risk - AuthInterceptor,runBlocking on IO thread,Non-blocking AtomicReference,Replace runBlocking with cached AtomicReference reads,2,-100% risk,P1
Search offline,Crash (IOException),Works from cache,Add SearchCacheEntity + Room DAO + cache-first flow,12,0% crash,P1
MediaDetail offline cache,Commented out (no GSON),Working cache parse,Inject Gson + implement cache parsing in MediaDetailRepoImpl,4,+30% cache hits,P1
Logging in production,BODY level (leaks tokens),NONE in release,Conditional logging level based on BuildConfig.DEBUG,1,-100% leak risk,P1
WorkManager OnDeck/Favorites sync,Not implemented,6h periodic sync,Create MediaSyncWorker for OnDeck + Favorites refresh,8,+40% cache freshness,P2
DB indexes,Good (11 indexes on media),Add FTS for search,Create FTS4 virtual table for fast local search,4,-80% search time,P2
Connection deduplication,None,SharedFlow per server,Wrap getActiveClients in SharedFlow to deduplicate,4,-50% redundant calls,P2
Code duplication (getActiveClients),3 copies in repos,1 shared utility,Extract to shared ServerClientResolver class,3,-200 lines,P2
Code duplication (URL resolution),~15 occurrences,1 extension function,Extract MediaItem.resolveUrls() extension,3,-150 lines,P2
ViewModels >300 lines,3 (Library 396 + Detail 365 + Settings 302),0,Split into focused sub-ViewModels with shared state,12,-3 oversized VMs,P2
Test coverage ViewModels (%),~40 (10/23 tested),70+,Add tests for remaining 13 ViewModels,16,+30%,P2
LibrarySyncWorker DI,Injects SyncRepositoryImpl (concrete),Inject SyncRepository interface,Change constructor parameter type,1,Clean Architecture fix,P2
Compose @Stable/@Immutable,0 annotations,Key data classes annotated,Add @Immutable to UI state sealed classes,2,-20% recomposition,P2
Build time cold (s),~180,<90,Already optimized (parallel + cache + KSP incremental),0,Already good,P3
Token storage,EncryptedSharedPreferences,Already secure,No change needed - already implemented correctly,0,Already done,P3
OkHttp connection pool,5 idle / 5 min,Already optimal,No change needed,0,Already done,P3
Room WAL mode,Enabled,Already optimal,No change needed,0,Already done,P3
Room PRAGMA optimizations,synchronous=NORMAL cache=8MB,Already good,No change needed,0,Already done,P3
Search debounce,500ms implemented,Already good,No change needed,0,Already done,P3
LaunchedEffect(Unit) usage,11 occurrences,Review case-by-case,Most are acceptable (one-time init); 2-3 should use specific keys,2,Minor recomposition fix,P3
MutableInteractionSource,All in remember{},Already correct,No change needed,0,Already done,P3
DB migration gaps,Jumps (12-15 16-18 missing),Add missing migrations or document,Document that fallbackToDestructiveMigration handles gaps,1,Documentation,P3
Baseline profiles,Not implemented,AOT compilation profile,Generate baseline profiles for critical paths,4,-30% cold start,P3
GZIP compression,Not explicitly configured,Accept-Encoding header,OkHttp handles this automatically via BridgeInterceptor,0,Already handled,P3
